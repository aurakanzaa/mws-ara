<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta http-equiv="X-UA-Compatible" content="ie=edge">
      <title>Peta</title>
      <link rel="stylesheet" href="mygrid.css">
      <!-- <link rel="stylesheet" href="mygrid.js"> -->
      <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.4/dist/leaflet.css" integrity="sha512-puBpdR0798OZvTTbP4A8Ix/l+A4dHDD0DGqYW6RQ+9jxkRFclaxxQb/SJAWZfWAkuyeQUytO7+7N4QKrDh+drA=="crossorigin=""/>
      <script src="https://unpkg.com/leaflet@1.3.4/dist/leaflet.js" integrity="sha512-nMMmRyTVoLYqjP9hrbed9S+FzjZHW5gY1TWCHA5ckwXZBadntCNs8kEqAWdrb9O7rxbCaA4lKTIWjDXZxflOcA==" crossorigin=""></script>
   </head>
   <body>
      <div class="container2">
         <div class='peta' id='mapid'> </div>
         <div class='gambar' id='gambar' style="width: 100%;">
            Gambar Disini
         </div>
         <div class='review' id='review'>Tulis review disini</div>
      </div>
      <script>
         let mymap = L.map('mapid').setView([-7.9699335,112.6157525], 15);
         L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}', {
         attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors,<a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',
         maxZoom: 20,
         id: 'mapbox.streets',
         accessToken: 'pk.eyJ1IjoiYXVyYWthbnphYSIsImEiOiJjam50bXl4YmQwMHp0M3NvaTR5enczdXY5In0.diO4nB65NMjMvraaHQN-Qw'
         }).addTo(mymap);
         
         function onMarkerClick() {
         let gambar = document.querySelector("#gambar");
         let review = document.querySelector("#review");
         gambar.innerHTML = `<img class="gmbr" src="./img/${this.epen.gambar}">`;
         review.textContent = this.epen.review;
         }
         var arr_marker = [
             {
                 location: [-7.9806987,112.6281433],
                 popup: "Toko OEN",
                 event : {
                     gambar: "1.jpg",
                     review: "Good ambience, tasty food, a little bit pricy but worth it."
                 }
             },
             {
                 location: [-7.9687958,112.6318293],
                 popup: "Bakso Bakar Pak Man",
                 event: {
                     gambar: "2.jpg",
                     review: "One of best meatball in Malang.. 10/10 will come back again.. Crowded place in small place.. But the taste is very yummy.. You should try"
                 }
             },
             {
                 location: [-7.9872182,112.6260826],
                 popup: "Soto Ayam Lombok",
                 event: {
                     gambar: "3.jpg",
                     review: "The legendary Soto Lombok, affordable price for one bowl of Soto Ayam with IDR 25k, the place is clean and neat. The taste is always pleased your tongue and made you to add one more bowl :)"
                 }
             },
             {
                 location: [-7.9820655,112.6251713],
                 popup: "Mie Setan",
                 event: {
                     gambar: "4.jpg",
                     review: "Try the level 5 spicy noodles and cry until you think there's no more tears to shed! What I like about the noodles is that beyond the tang they have excellent flavor. The sausage and veggies coming with them are also a nice touch to alleviate your tongue. Also, if you're looking into sides, the dim sum is a great choice! Thanks, Mie Sean, for the memories!"
                 }
             },
             {
                 location: [-7.975696,112.6177973],
                 popup: "Pecel Kawi 'Hj. Musilah' Asli 1975 ",
                 event: {
                     gambar: "5.jpg",
                     review: "the peanut sauce is superb.  slightly spicy but has a very smooth texture. the price is very cheap.  1 porsion for 11.000. they also sell other traditional food.  If you love the peanut sauce , you can buy from them"
                 }
             }
         ];
         
         for (m of arr_marker) {
         let marker = L.marker(m.location);
         marker.bindPopup(m.popup).on('click', onMarkerClick).addTo(mymap);
         marker["epen"] = m.event;
         }
      </script>
   </body>
</html>